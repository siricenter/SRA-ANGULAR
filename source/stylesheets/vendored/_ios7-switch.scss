.switch-label {
  display: table;
  p {
    display: table-cell; 
    vertical-align: middle; 
    padding-left: 8px;
    padding-right: 8px;
  }
}

.switch-dark {
  .ios-switch .on-background { background-color: $brand-dark; }
}

$ios-switch-height: 45px;
$ios-switch-width: 75px;
$ios-switch-border-radius: 100px;
$ios-switch-handle-height: 41px;
$ios-switch-handle-width: 41px;
$ios-switch-handle-border-radius: 20px;

.switch-medium .ios-switch {
  @include transform(scale(.8));
}

.switch-small .ios-switch {
  @include transform(scale(.5));
}

.ios-switch {
  height: $ios-switch-height;
  width: $ios-switch-width;
  position: relative;
  border-radius: $ios-switch-border-radius;
  backface-visibility: hidden;
  .background-fill {
    width: 100%;
    height: 100%;
    border-radius: $ios-switch-border-radius;
    position: absolute;
    left: 0;
    top: 0;
  }
  .on-background {
    background-color: $gray-lighter;
    opacity: 0;
    -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);
    filter: alpha(opacity = 0);
    z-index: 1;
    @include transition(.3s 0.2s);
  }
  .state-background {
    border-radius: $ios-switch-border-radius;
    z-index: 2;
    @include background(linear-gradient(white, #fdfdfd));
    border: 2px solid #E5E5E5;
    @include box-sizing(border-box);
    @include transform(scale(1));
    @include transition(.4s);
  }
  .handle {
    width: $ios-switch-handle-width;
    height: $ios-switch-handle-height;
    background-color: white;
    top: 2px;
    left: 2px;
    position: absolute;
    border-radius: $ios-switch-handle-border-radius;
    box-shadow: 0 0 3px 1px hsla(0, 0%, 0%, 0.075), 0 3px 5px hsla(0, 0%, 0%, 0.15), 1px 2px 2px hsla(0, 0%, 0%, 0.05);
    z-index: 3;
    @include transition(transform 0.3s 0.25s cubic-bezier(0.455, 0.03, 0.215, 1.33));
  }
  &.off {
    .handle {
      @include animation(expand-off .3s 0.2s);
      @include transform(translate3d(0px, 0, 0));
    }
    .on-background {
      @include transition(.3s 0s);
    }
    .state-background {
      @include transition(.4s 0.25s);
    }
  }
  &.on {
    .handle {
      @include animation(expand-on .3s 0.2s);
      @include transform(translate3d(30px, 0, 0));
    }
    .on-background {
      opacity: 1;
      -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
      filter: alpha(opacity = 100);
    }
    .state-background {
      @include transform(scale(0));
    }
  }
}

@keyframes expand-on {
  0% {
    width: 41px;
  }
  40% {
    width: 50px;
  }
  100% {
    width: 41px;
  }
}


@keyframes expand-off {
  0% {
    width: 41px;
    left: 2px;
  }
  40% {
    width: 50px;
    left: -7px;
  }
  100% {
    width: 41px;
    left: 2px;
  }
}


@-o-keyframes expand-on {
  0% {
    width: 41px;
  }
  40% {
    width: 50px;
  }
  100% {
    width: 41px;
  }
}


@-ms-keyframes expand-on {
  0% {
    width: 41px;
  }
  40% {
    width: 50px;
  }
  100% {
    width: 41px;
  }
}


@-moz-keyframes expand-on {
  0% {
    width: 41px;
  }
  40% {
    width: 50px;
  }
  100% {
    width: 41px;
  }
}


@-webkit-keyframes expand-on {
  0% {
    width: 41px;
  }
  40% {
    width: 50px;
  }
  100% {
    width: 41px;
  }
}


@-o-keyframes expand-off {
  0% {
    width: 41px;
    left: 2px;
  }
  40% {
    width: 50px;
    left: -7px;
  }
  100% {
    width: 41px;
    left: 2px;
  }
}


@-ms-keyframes expand-off {
  0% {
    width: 41px;
    left: 2px;
  }
  40% {
    width: 50px;
    left: -7px;
  }
  100% {
    width: 41px;
    left: 2px;
  }
}


@-moz-keyframes expand-off {
  0% {
    width: 41px;
    left: 2px;
  }
  40% {
    width: 50px;
    left: -7px;
  }
  100% {
    width: 41px;
    left: 2px;
  }
}


@-webkit-keyframes expand-off {
  0% {
    width: 41px;
    left: 2px;
  }
  40% {
    width: 50px;
    left: -7px;
  }
  100% {
    width: 41px;
    left: 2px;
  }
}

.switch-default {
  .ios-switch .on-background { background-color: $gray-light; }
}

.switch-primary {
  .ios-switch .on-background { background-color: $brand-primary; }
}

.switch-info {
  .ios-switch .on-background { background-color: $brand-info; }
}

.switch-success {
  .ios-switch .on-background { background-color: $brand-success; }
}

.switch-warning {
  .ios-switch .on-background { background-color: $brand-warning; }
}

.switch-danger {
  .ios-switch .on-background { background-color: $brand-danger; }
}


